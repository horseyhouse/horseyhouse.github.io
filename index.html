<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="./style.css">
  <title>Oysters 69</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/vue@3.2.37/dist/vue.global.prod.js"></script>
  <script src="https://unpkg.com/vue-router@4.0.16/dist/vue-router.global.prod.js"></script>
</head>

<body>
<div id="app">
  <h1>
    <log-in></log-in>
    <router-link to="/">
      Hello
      <template v-if="$graffiti.loggedIn">
        Anonymous Oyster
      </template>
      <template v-else>
        Fellow Oyster
      </template>
    </router-link>
    <log-in></log-in>
  </h1>
  <h2>
    <img src="media/construction.gif" alt="Under Construction">
  </h2>

  <router-view></router-view>
</div>

<script type="text/x-template" id="login">
  <label>
    <input type="checkbox" class="login"
      :checked="$graffiti.loggedIn"
      @change="$event.target.checked?
        $graffiti.logIn() :
        $graffiti.logOut()">
    <img src="./media/oyster.gif" />
  </label>
</script>

<script type="text/x-template" id="home">
  <h3>
    Internal Links
  </h3>

  <ul>
    <router-link to="/about">
      <li>
        <img src="media/about.gif" alt="About">
        <img src="media/hamster-house.gif" alt="About">
      </li>
    </router-link>
    <router-link to="/photos">
      <li>
        <img src="media/photos.gif" alt="Photos">
        <img src="media/furby-cam.GIF" alt="Photos">
      </li>
    </router-link>
    <li>
      <img src="media/events.gif" alt="Events">
      <img src="media/calendar.gif" alt="Events">
    </li>
    <li>
      <img src="media/ledger.gif" alt="Ledger">
      <img src="media/monopoly-man.gif" alt="Ledger">
    </li>
  </ul>

  <h3>
    External Links
  </h3>

  <ul>
    <a href="http://tfh.sh:46202/transmission/web/" target="_blank">
      <li>
        <img src="media/torrenting.gif" alt="Torrenting">
        <img src="media/pirate-flag.gif" alt="Torrenting">
      </li>
    </a>
    <a href="https://app.plex.tv" target="_blank">
      <li>
        <img src="media/plex.gif" alt="Plex">
        <img src="media/film.gif" alt="Plex">
      </li>
    </a>
    <a href="https://github.com/oysters69/docs" target="_blank">
      <li>
        Static Docs
      </li>
    </a>
    <a href="https://drive.google.com/drive/folders/1X1ASnjqRPqbdrAG7p2Xe34t1mtIDAzK7" target="_blank">
      <li>
        Live Docs
      </li>
    </a>
  </ul>
</script>

<script type="text/x-template" id="about">
  <h3>
    About Us
  </h3>
  <p>
    we're really cool.
  </p>
</script>

<script type="text/x-template" id="photos">
  <h3>
    Photos
  </h3>

  <p v-if="!$graffiti.loggedIn">
    Click "Make a noise..." to log in and post some photos!
  </p>
  <p v-else>
    Photo posting coming soon..
  </p>
</script>

<script type="module">
  import Graffiti from "https://csail-graffiti.github.io/vue/plugin.js"

  const Login = { template: '#login' }

  const Router = VueRouter.createRouter({
    history: VueRouter.createWebHashHistory(),
    routes: [
      { path: '/', component: {
        template: '#home'
      }},
      { path: '/about', component: {
        template: '#about'
      }},
      { path: '/photos', component: {
        template: '#photos'
      }}
    ],
  })

  Graffiti('https://graffiti.csail.mit.edu').then(g=> {
    Vue.createApp().use(g)
    .component('log-in', Login)
    .use(Router)
    .mount('#app')
  })
</script>

</body>
</html> 
